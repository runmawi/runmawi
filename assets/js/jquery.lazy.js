!function(t,e){"use strict";var r=t.jQuery||t.Zepto,a=0,n=!1;function i(i,o){var l=this,u=r.extend({},l.config,o),c={},f=u.name+"-"+ ++a;return l.config=function(t,r){return r===e?u[t]:(u[t]=r,l)},l.addItems=function(t){return c.a&&c.a("string"===r.type(t)?r(t):t),l},l.getItems=function(){return c.g?c.g():{}},l.update=function(t){return c.e&&c.e({},!t),l},l.force=function(t){return c.f&&c.f("string"===r.type(t)?r(t):t),l},l.loadAll=function(){return c.e&&c.e({all:!0},!0),l},l.destroy=function(){r(u.appendScroll).off("."+f,c.e),r(t).off("."+f),c={}},!function a(i,o,l,u,c){var f=0,s=-1,d=-1,A=!1,g="afterLoad",h="load",m="error",b="srcset",v="sizes",$="background-image";function p(){var e,a,n,f;A=t.devicePixelRatio>1,l=y(l),o.delay>=0&&setTimeout(function(){_(!0)},o.delay),(o.delay<0||o.combined)&&(u.e=(e=o.throttle,a=function(t){"resize"===t.type&&(s=d=-1),_(t.all)},f=0,function(t,r){var l=+new Date-f;function u(){f=+new Date,a.call(i,t)}n&&clearTimeout(n),l>e||!o.enableThrottle||r?u():n=setTimeout(u,e-l)}),u.a=function(t){t=y(t),l.push.apply(l,t)},u.g=function(){return l=r(l).filter(function(){return!r(this).data(o.loadedName)})},u.f=function(t){for(var e=0;e<t.length;e++){var r=l.filter(function(){return this===t[e]});r.length&&_(!1,r)}},_(),r(o.appendScroll).on("scroll."+c+" resize."+c,u.e))}function y(t){var a=o.defaultImage,n=o.placeholder,l=o.imageBase,u=o.srcsetAttribute,c=o.loaderAttribute,f=o._f||{};t=r(t).filter(function(){var t=r(this),a=w(this);return!t.data(o.handledName)&&(t.attr(o.attribute)||t.attr(u)||t.attr(c)||e!==f[a])}).data("plugin_"+o.name,i);for(var s=0,d=t.length;s<d;s++){var A=r(t[s]),g=w(t[s]),h=A.attr(o.imageBaseAttribute)||l;"img"===g&&h&&A.attr(u)&&A.attr(u,L(A.attr(u),h)),e===f[g]||A.attr(c)||A.attr(c,f[g]),"img"===g&&a&&!A.attr("src")?A.attr("src",a):"img"!==g&&n&&(!A.css($)||"none"===A.css($))&&A.css($,"url('"+n+"')")}return t}function _(t,e){if(!l.length){o.autoDestroy&&i.destroy();return}for(var a=e||l,n=!1,u=o.imageBase||"",c=o.srcsetAttribute,f=o.handledName,s=0;s<a.length;s++)if(t||e||B(a[s])){var d=r(a[s]),A=w(a[s]),g=d.attr(o.attribute),h=d.attr(o.imageBaseAttribute)||u,m=d.attr(o.loaderAttribute);!d.data(f)&&(!o.visibleOnly||d.is(":visible"))&&((g||d.attr(c))&&("img"===A&&(h+g!==d.attr("src")||d.attr(c)!==d.attr(b))||"img"!==A&&h+g!==d.css($))||m)&&(n=!0,d.data(f,!0),z(d,A,h,m))}n&&(l=r(l).filter(function(){return!r(this).data(f)}))}function z(t,e,a,n){++f;var i=function(){I("onError",t),N(),i=r.noop};I("beforeLoad",t);var l=o.attribute,u=o.srcsetAttribute,c=o.sizesAttribute,s=o.retinaAttribute,d=o.removeAttribute,p=o.loadedName,y=t.attr(s);if(n){var _=function(){d&&t.removeAttr(o.loaderAttribute),t.data(p,!0),I(g,t),setTimeout(N,1),_=r.noop};t.off(m).one(m,i).one(h,_),I(n,t,function(e){e?(t.off(h),_()):(t.off(m),i())})||t.trigger(m)}else{var z=r(new Image);z.one(m,i).one(h,function(){t.hide(),"img"===e?t.attr(v,z.attr(v)).attr(b,z.attr(b)).attr("src",z.attr("src")):t.css($,"url('"+z.attr("src")+"')"),t[o.effect](o.effectTime),d&&(t.removeAttr(l+" "+u+" "+s+" "+o.imageBaseAttribute),c!==v&&t.removeAttr(c)),t.data(p,!0),I(g,t),z.remove(),N()});var B=(A&&y?y:t.attr(l))||"";z.attr(v,t.attr(c)).attr(b,t.attr(u)).attr("src",B?a+B:null),z.complete&&z.trigger(h)}}function B(e){var a=e.getBoundingClientRect(),n=o.scrollDirection,i=o.threshold,l=(d>=0?d:d=r(t).height())+i>a.top&&-i<a.bottom,u=(s>=0?s:s=r(t).width())+i>a.left&&-i<a.right;return"vertical"===n?l:"horizontal"===n?u:l&&u}function w(t){return t.tagName.toLowerCase()}function L(t,e){if(e){var r=t.split(",");t="";for(var a=0,n=r.length;a<n;a++)t+=e+r[a].trim()+(a!==n-1?",":"")}return t}function N(){--f,l.length||f||I("onFinishedAll")}function I(t,e,r){return!!(t=o[t])&&(t.apply(i,[].slice.call(arguments,1)),!0)}"event"===o.bind||n?p():r(t).on(h+"."+c,p)}(l,u,i,c,f),u.chainable?i:l}r.fn.Lazy=r.fn.lazy=function(t){return new i(this,t)},r.Lazy=r.lazy=function(t,a,n){if(r.isFunction(a)&&(n=a,a=[]),r.isFunction(n)){t=r.isArray(t)?t:[t],a=r.isArray(a)?a:[a];for(var o=i.prototype.config,l=o._f||(o._f={}),u=0,c=t.length;u<c;u++)(e===o[t[u]]||r.isFunction(o[t[u]]))&&(o[t[u]]=n);for(var f=0,s=a.length;f<s;f++)l[a[f]]=t[0]}},i.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:t,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:e,afterLoad:e,onError:e,onFinishedAll:e},r(t).on("load",function(){n=!0})}(window);